{"title":"Oficina","description":null,"widgets":[{"id":8604751781247949,"definition":{"title":"Ordem Servico","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":8138324478355700,"definition":{"title":"Volume diário de ordens de serviço","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:ordem_servico.criada.total{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"default_zero(query1)"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":5399822636852036,"definition":{"title":"Erros e falhas nas integrações","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:http.server.requests{status:5*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"default_zero(query1)"}],"conditional_formats":[{"comparator":">","value":0,"palette":"white_on_red"}]}],"autoscale":true,"precision":2},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":5561926687377070,"definition":{"title":"Tempo médio de execução por status","title_size":"16","title_align":"left","type":"toplist","requests":[{"queries":[{"query":"avg:ordem_servico.fase.duracao.max{*} by {fase}","data_source":"metrics","name":"query1","aggregator":"avg"}],"response_format":"scalar","formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"second"}},"formula":"default_zero(query1)"}],"sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"display":{"type":"stacked","legend":"automatic"},"palette":"datadog16"}},"layout":{"x":6,"y":0,"width":5,"height":3}}]},"layout":{"x":0,"y":0,"width":12,"height":4}},{"id":4088340262981157,"definition":{"title":"Requisições","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":2524407664866965,"definition":{"title":"p95 Latency by Endpoint, Method","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"query":"avg:aws.apigateway.latency.p95{*} by {apiname,stage,resource,method}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":0,"width":12,"height":2}},{"id":1199568107742150,"definition":{"title":"Total Request Count","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"custom_text","value":0}],"response_format":"scalar","queries":[{"query":"avg:aws.apigateway.count{*}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"autoscale":true,"custom_unit":"req","precision":0},"layout":{"x":0,"y":2,"width":3,"height":2}},{"id":8856371061232624,"definition":{"title":"Total 5XX Errors","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"number_format":{"unit":{"label":"err","type":"custom_unit_label"}},"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"white_on_red","value":0}],"response_format":"scalar","queries":[{"query":"avg:aws.apigateway.5xxerror{apiname:oficina-api}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"autoscale":false,"precision":0},"layout":{"x":3,"y":2,"width":3,"height":2}},{"id":2981958004979659,"definition":{"title":"Total 4XX Errors","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"white_on_yellow","value":0}],"response_format":"scalar","queries":[{"query":"avg:aws.apigateway.4xxerror{*}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"autoscale":false,"custom_unit":"err","precision":0},"layout":{"x":6,"y":2,"width":3,"height":2}},{"id":2188220154900233,"definition":{"title":"p95 Latency","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"white_on_red","value":1000},{"comparator":">=","palette":"white_on_yellow","value":200},{"comparator":"<","palette":"white_on_green","value":200}],"response_format":"scalar","queries":[{"query":"avg:aws.apigateway.latency.p95{*}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"custom_unit":"ms","precision":2},"layout":{"x":9,"y":2,"width":3,"height":2}}]},"layout":{"x":0,"y":4,"width":12,"height":5,"is_column_break":true}},{"id":4735834301972046,"definition":{"title":"Cluster","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[]},"layout":{"x":0,"y":9,"width":12,"height":1}},{"id":4224423795474614,"definition":{"title":"Pods in Ready State By Node","title_size":"16","title_align":"left","type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"sum:kubernetes_state.pod.ready{condition:true} by {kube_cluster_name,host,pod_name}","aggregator":"last","semantic_mode":"combined"}],"response_format":"scalar","sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"conditional_formats":[{"comparator":"<=","palette":"white_on_green","value":24},{"comparator":">","palette":"white_on_red","value":32},{"comparator":">","palette":"white_on_yellow","value":24}],"cell_display_mode":"bar","formula":"query1"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":0,"width":10,"height":3}},{"id":4204190315313433,"definition":{"title":"Cluster CPU Usage","title_size":"16","title_align":"left","type":"query_value","requests":[{"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":80},{"comparator":"<","palette":"white_on_yellow","value":90},{"comparator":">","palette":"white_on_red","value":90}],"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:kubernetes.cpu.requests{*}","aggregator":"last","semantic_mode":"combined"},{"data_source":"metrics","name":"query2","query":"sum:kubernetes_state.node.cpu_allocatable{*}","aggregator":"last","semantic_mode":"combined"}],"formulas":[{"formula":"(query1 / query2) * 100","number_format":{"unit":{"label":"%","type":"custom_unit_label"}}}]}],"autoscale":false,"precision":2},"layout":{"x":10,"y":0,"width":2,"height":3}},{"id":510008740839021,"definition":{"title":"Pods Running","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1","alias":"Pods Running"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.pods.running{*}","data_source":"metrics","name":"query1","semantic_mode":"combined"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":3,"width":5,"height":3}},{"id":5052902407781297,"definition":{"title":"Pods running by Namespace","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1","alias":"Pods Running"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.pods.running{*} by {kube_cluster_name,kube_namespace}","data_source":"metrics","name":"query1","semantic_mode":"combined"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]},"layout":{"x":5,"y":3,"width":3,"height":3}},{"id":7331168671672041,"definition":{"title":"Cpu Memory Usage","title_size":"16","title_align":"left","type":"query_value","requests":[{"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":80},{"comparator":">","palette":"white_on_red","value":90},{"comparator":"<","palette":"white_on_yellow","value":90}],"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:kubernetes.memory.requests{*}","aggregator":"last","semantic_mode":"combined"},{"data_source":"metrics","name":"query2","query":"sum:kubernetes_state.node.memory_allocatable{*}","aggregator":"last","semantic_mode":"combined"}],"formulas":[{"formula":"(query1 / query2) * 100","number_format":{"unit":{"label":"%","type":"custom_unit_label"}}}]}],"autoscale":false,"precision":2},"layout":{"x":8,"y":3,"width":2,"height":3}}],"template_variables":[],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed","pause_auto_refresh":false}